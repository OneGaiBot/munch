<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>Munch â€” What's for dinner?</title>
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="stylesheet" href="style.css">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0c1015">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Munch">
</head>
<body>
  <div class="app">
    <header>
      <div class="header-content">
        <div class="header-text">
          <h1>ğŸœ Munch</h1>
          <p class="tagline">What's for dinner?</p>
        </div>
        <button class="refresh-btn" onclick="refreshApp()" title="Refresh recipes">
          <span class="refresh-icon">â†»</span>
        </button>
      </div>
    </header>

    <nav class="tabs">
      <button class="tab active" data-tab="recipes">All Recipes</button>
      <button class="tab" data-tab="favorites">Favorites</button>
      <button class="tab" data-tab="shopping">Shopping List</button>
    </nav>

    <!-- Recipes Tab -->
    <section id="recipes-tab" class="tab-content active">
      <div class="filters">
        <div class="filter-row">
          <select id="cuisine-filter">
            <option value="all">All Cuisines</option>
          </select>
          <select id="time-filter">
            <option value="">Any Time</option>
            <option value="15">Under 15 min</option>
            <option value="20">Under 20 min</option>
            <option value="30">Under 30 min</option>
            <option value="45">Under 45 min</option>
          </select>
          <select id="equipment-filter">
            <option value="">Any Equipment</option>
            <option value="airfryer">Airfryer</option>
            <option value="wok">Wok</option>
            <option value="blender">Blender</option>
          </select>
          <select id="source-filter">
            <option value="">All Sources</option>
            <option value="onegai">ğŸ¤– OneGai's Recipes</option>
            <option value="user">ğŸ“ My Recipes</option>
            <option value="themealdb">ğŸŒ TheMealDB</option>
          </select>
          <button class="btn btn-primary btn-add" onclick="openAddRecipeModal()">+ Add</button>
          <button class="btn btn-shuffle" onclick="startShuffle()">ğŸ² Shuffle</button>
        </div>
        <div class="search-row">
          <input type="text" id="search" placeholder="Search recipes...">
        </div>
      </div>

      <div id="recipe-grid" class="recipe-grid"></div>
    </section>

    <!-- Favorites Tab -->
    <section id="favorites-tab" class="tab-content">
      <div id="favorites-grid" class="recipe-grid"></div>
      <div id="no-favorites" class="empty-state hidden">
        <span class="empty-icon">â¤ï¸</span>
        <p>No favorites yet. Tap the heart on recipes you love!</p>
      </div>
    </section>

    <!-- Shopping Tab -->
    <section id="shopping-tab" class="tab-content">
      <div class="shopping-header">
        <button id="clear-checked" class="btn-secondary">Clear Checked</button>
        <button id="clear-all" class="btn-secondary">Clear All</button>
      </div>
      <ul id="shopping-list"></ul>
      <div id="no-shopping" class="empty-state">
        <span class="empty-icon">ğŸ›’</span>
        <p>Your shopping list is empty. Add ingredients from recipes!</p>
      </div>
    </section>

    <!-- Recipe Modal -->
    <div id="recipe-modal" class="modal hidden">
      <div class="modal-content">
        <button class="modal-close">&times;</button>
        <div id="modal-body"></div>
      </div>
    </div>

    <!-- Shuffle Overlay -->
    <div id="shuffle-overlay" class="shuffle-overlay hidden">
      <button class="shuffle-close" onclick="closeShuffle()">âœ•</button>
      <div class="shuffle-progress-top">
        <span id="shuffle-counter">1 / 10</span>
        <span class="shuffle-hint">â† Skip | Pick â†’</span>
      </div>
      <div class="shuffle-container">
        <div class="shuffle-card" id="shuffle-card">
          <div class="shuffle-image" id="shuffle-image"></div>
          <div class="shuffle-body">
            <h2 id="shuffle-name"></h2>
            <p id="shuffle-description"></p>
            <div class="shuffle-meta" id="shuffle-meta"></div>
            
            <div class="shuffle-section">
              <h3>Ingredients</h3>
              <ul id="shuffle-ingredients" class="shuffle-ingredients"></ul>
            </div>
            
            <div class="shuffle-section">
              <h3>Instructions</h3>
              <ol id="shuffle-instructions" class="shuffle-instructions"></ol>
            </div>
            
            <div class="shuffle-source" id="shuffle-source"></div>
          </div>
        </div>
      </div>
      <div class="shuffle-actions">
        <button class="shuffle-btn skip" onclick="shuffleNext()">
          <span>ğŸ‘ Skip</span>
        </button>
        <button class="shuffle-btn pick" onclick="shufflePick()">
          <span>ğŸ³ Cook this!</span>
        </button>
      </div>
    </div>

    <!-- Add Recipe Modal -->
    <div id="add-recipe-modal" class="modal hidden">
      <div class="modal-content add-recipe-form">
        <button class="modal-close" onclick="closeAddRecipeModal()">&times;</button>
        <div class="recipe-header">
          <h2>Add Recipe</h2>
        </div>
        <div class="recipe-content">
          <form id="add-recipe-form">
          <div class="form-group">
            <label for="recipe-name">Name *</label>
            <input type="text" id="recipe-name" required placeholder="e.g., Spicy Peanut Noodles">
          </div>
          
          <div class="form-group">
            <label for="recipe-description">Description</label>
            <input type="text" id="recipe-description" placeholder="A short description">
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="recipe-cuisine">Cuisine *</label>
              <select id="recipe-cuisine" required>
                <option value="">Select...</option>
                <option value="Japanese">Japanese</option>
                <option value="Chinese">Chinese</option>
                <option value="Indian">Indian</option>
                <option value="Thai">Thai</option>
                <option value="Italian">Italian</option>
                <option value="Middle Eastern">Middle Eastern</option>
                <option value="Mexican">Mexican</option>
                <option value="Korean">Korean</option>
                <option value="Asian">Asian (other)</option>
                <option value="Mediterranean">Mediterranean</option>
                <option value="International">International</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="recipe-duration">Time (min) *</label>
              <input type="number" id="recipe-duration" required min="1" placeholder="30">
            </div>
            
            <div class="form-group">
              <label for="recipe-servings">Servings</label>
              <input type="number" id="recipe-servings" value="2" min="1">
            </div>
          </div>
          
          <div class="form-group">
            <label>Equipment</label>
            <div class="checkbox-group">
              <label class="checkbox-label"><input type="checkbox" name="equipment" value="pot"> Pot</label>
              <label class="checkbox-label"><input type="checkbox" name="equipment" value="pan"> Pan</label>
              <label class="checkbox-label"><input type="checkbox" name="equipment" value="wok"> Wok</label>
              <label class="checkbox-label"><input type="checkbox" name="equipment" value="blender"> Blender</label>
              <label class="checkbox-label"><input type="checkbox" name="equipment" value="airfryer"> Airfryer</label>
              <label class="checkbox-label"><input type="checkbox" name="equipment" value="oven"> Oven</label>
            </div>
          </div>
          
          <div class="form-group">
            <label for="recipe-images">Recipe Images <span class="hint">(optional)</span></label>
            <input type="file" id="recipe-images" multiple accept="image/*">
            <div id="image-preview" class="image-preview"></div>
          </div>
          
          <div class="form-group">
            <label for="recipe-ingredients">Ingredients * <span class="hint">(one per line)</span></label>
            <textarea id="recipe-ingredients" required rows="6" placeholder="200g noodles&#10;2 tbsp soy sauce&#10;1 clove garlic, minced"></textarea>
          </div>
          
          <div class="form-group">
            <label for="recipe-instructions">Instructions * <span class="hint">(one step per line)</span></label>
            <textarea id="recipe-instructions" required rows="6" placeholder="Cook noodles according to package&#10;Stir-fry garlic until fragrant&#10;Add sauce and toss"></textarea>
          </div>
          
          <div class="form-group">
            <label for="recipe-source">Source URL <span class="hint">(optional)</span></label>
            <input type="url" id="recipe-source" placeholder="https://...">
          </div>
          
          </form>
        </div>
        <div class="recipe-actions">
          <button type="button" class="btn btn-secondary" onclick="closeAddRecipeModal()">Cancel</button>
          <button type="submit" class="btn btn-primary" onclick="document.getElementById('add-recipe-form').requestSubmit()">Save Recipe</button>
        </div>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
